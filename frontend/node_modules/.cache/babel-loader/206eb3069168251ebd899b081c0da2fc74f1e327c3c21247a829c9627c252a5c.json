{"ast":null,"code":"import React,{useState,useEffect}from'react';import{announcementsAPI}from'../services/api';import LoadingSpinner from'../components/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Announcements=()=>{const[announcements,setAnnouncements]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchAnnouncements();},[]);const fetchAnnouncements=async()=>{try{const response=await announcementsAPI.getAll();setAnnouncements(response.data);}catch(error){console.error('Error fetching announcements:',error);}finally{setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(LoadingSpinner,{});return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Announcements\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Stay updated with the latest news from the college\"}),announcements.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No announcements at this time.\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"announcements-grid\",children:announcements.map(announcement=>/*#__PURE__*/_jsxs(\"div\",{className:\"card announcement-card-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"announcement-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:announcement.title}),/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-\".concat(announcement.target_audience),children:announcement.target_audience==='all'?'Everyone':announcement.target_audience})]}),/*#__PURE__*/_jsx(\"p\",{className:\"announcement-description\",children:announcement.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"announcement-footer\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"date\",children:[\"Posted on \",new Date(announcement.created_at).toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"author\",children:[\"By \",announcement.author_name||'Admin']})]})]},announcement.id))})]});};export default Announcements;","map":{"version":3,"names":["React","useState","useEffect","announcementsAPI","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Announcements","announcements","setAnnouncements","loading","setLoading","fetchAnnouncements","response","getAll","data","error","console","className","children","length","map","announcement","title","concat","target_audience","description","Date","created_at","toLocaleDateString","year","month","day","author_name","id"],"sources":["C:/Users/ACER/alumni-management-system/frontend/src/pages/Announcements.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { announcementsAPI } from '../services/api';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\n\r\nconst Announcements = () => {\r\n  const [announcements, setAnnouncements] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchAnnouncements();\r\n  }, []);\r\n\r\n  const fetchAnnouncements = async () => {\r\n    try {\r\n      const response = await announcementsAPI.getAll();\r\n      setAnnouncements(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching announcements:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <LoadingSpinner />;\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <h1>Announcements</h1>\r\n      <p className=\"page-subtitle\">Stay updated with the latest news from the college</p>\r\n\r\n      {announcements.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <p>No announcements at this time.</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"announcements-grid\">\r\n          {announcements.map(announcement => (\r\n            <div key={announcement.id} className=\"card announcement-card-full\">\r\n              <div className=\"announcement-header\">\r\n                <h3>{announcement.title}</h3>\r\n                <span className={`badge badge-${announcement.target_audience}`}>\r\n                  {announcement.target_audience === 'all' ? 'Everyone' : announcement.target_audience}\r\n                </span>\r\n              </div>\r\n              <p className=\"announcement-description\">{announcement.description}</p>\r\n              <div className=\"announcement-footer\">\r\n                <span className=\"date\">\r\n                  Posted on {new Date(announcement.created_at).toLocaleDateString('en-US', {\r\n                    year: 'numeric',\r\n                    month: 'long',\r\n                    day: 'numeric'\r\n                  })}\r\n                </span>\r\n                <span className=\"author\">By {announcement.author_name || 'Admin'}</span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Announcements;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,gBAAgB,KAAQ,iBAAiB,CAClD,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1D,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACdY,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,gBAAgB,CAACa,MAAM,CAAC,CAAC,CAChDL,gBAAgB,CAACI,QAAQ,CAACE,IAAI,CAAC,CACjC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CAAC,OAAS,CACRL,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,GAAID,OAAO,CAAE,mBAAON,IAAA,CAACF,cAAc,GAAE,CAAC,CAEtC,mBACEI,KAAA,QAAKY,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7Bf,IAAA,OAAAe,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBf,IAAA,MAAGc,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,oDAAkD,CAAG,CAAC,CAElFX,aAAa,CAACY,MAAM,GAAK,CAAC,cACzBhB,IAAA,QAAKc,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1Bf,IAAA,MAAAe,QAAA,CAAG,gCAA8B,CAAG,CAAC,CAClC,CAAC,cAENf,IAAA,QAAKc,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAChCX,aAAa,CAACa,GAAG,CAACC,YAAY,eAC7BhB,KAAA,QAA2BY,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAChEb,KAAA,QAAKY,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCf,IAAA,OAAAe,QAAA,CAAKG,YAAY,CAACC,KAAK,CAAK,CAAC,cAC7BnB,IAAA,SAAMc,SAAS,gBAAAM,MAAA,CAAiBF,YAAY,CAACG,eAAe,CAAG,CAAAN,QAAA,CAC5DG,YAAY,CAACG,eAAe,GAAK,KAAK,CAAG,UAAU,CAAGH,YAAY,CAACG,eAAe,CAC/E,CAAC,EACJ,CAAC,cACNrB,IAAA,MAAGc,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAEG,YAAY,CAACI,WAAW,CAAI,CAAC,cACtEpB,KAAA,QAAKY,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCb,KAAA,SAAMY,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAC,YACX,CAAC,GAAI,CAAAQ,IAAI,CAACL,YAAY,CAACM,UAAU,CAAC,CAACC,kBAAkB,CAAC,OAAO,CAAE,CACvEC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,MAAM,CACbC,GAAG,CAAE,SACP,CAAC,CAAC,EACE,CAAC,cACP1B,KAAA,SAAMY,SAAS,CAAC,QAAQ,CAAAC,QAAA,EAAC,KAAG,CAACG,YAAY,CAACW,WAAW,EAAI,OAAO,EAAO,CAAC,EACrE,CAAC,GAjBEX,YAAY,CAACY,EAkBlB,CACN,CAAC,CACC,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3B,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}