{"ast":null,"code":"import React from'react';import{Navigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,roles=[],requireApproval=false}=_ref;const{user,loading,isApproved}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(roles.length>0&&!roles.includes(user.role)){return/*#__PURE__*/_jsx(Navigate,{to:\"/unauthorized\",replace:true});}if(requireApproval&&user.role==='alumni'&&!isApproved){return/*#__PURE__*/_jsxs(\"div\",{className:\"pending-approval\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Account Pending Approval\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your account is waiting for admin approval. You'll have full access once approved.\"})]});}return children;};export default ProtectedRoute;","map":{"version":3,"names":["React","Navigate","useAuth","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","roles","requireApproval","user","loading","isApproved","className","to","replace","length","includes","role"],"sources":["C:/Users/ACER/alumni-management-system/frontend/src/components/ProtectedRoute.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst ProtectedRoute = ({ children, roles = [], requireApproval = false }) => {\r\n  const { user, loading, isApproved } = useAuth();\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading...</div>;\r\n  }\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  if (roles.length > 0 && !roles.includes(user.role)) {\r\n    return <Navigate to=\"/unauthorized\" replace />;\r\n  }\r\n\r\n  if (requireApproval && user.role === 'alumni' && !isApproved) {\r\n    return (\r\n      <div className=\"pending-approval\">\r\n        <h2>Account Pending Approval</h2>\r\n        <p>Your account is waiting for admin approval. You'll have full access once approved.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,OAAO,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAuD,IAAtD,CAAEC,QAAQ,CAAEC,KAAK,CAAG,EAAE,CAAEC,eAAe,CAAG,KAAM,CAAC,CAAAH,IAAA,CACvE,KAAM,CAAEI,IAAI,CAAEC,OAAO,CAAEC,UAAW,CAAC,CAAGZ,OAAO,CAAC,CAAC,CAE/C,GAAIW,OAAO,CAAE,CACX,mBAAOT,IAAA,QAAKW,SAAS,CAAC,SAAS,CAAAN,QAAA,CAAC,YAAU,CAAK,CAAC,CAClD,CAEA,GAAI,CAACG,IAAI,CAAE,CACT,mBAAOR,IAAA,CAACH,QAAQ,EAACe,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA,GAAIP,KAAK,CAACQ,MAAM,CAAG,CAAC,EAAI,CAACR,KAAK,CAACS,QAAQ,CAACP,IAAI,CAACQ,IAAI,CAAC,CAAE,CAClD,mBAAOhB,IAAA,CAACH,QAAQ,EAACe,EAAE,CAAC,eAAe,CAACC,OAAO,MAAE,CAAC,CAChD,CAEA,GAAIN,eAAe,EAAIC,IAAI,CAACQ,IAAI,GAAK,QAAQ,EAAI,CAACN,UAAU,CAAE,CAC5D,mBACER,KAAA,QAAKS,SAAS,CAAC,kBAAkB,CAAAN,QAAA,eAC/BL,IAAA,OAAAK,QAAA,CAAI,0BAAwB,CAAI,CAAC,cACjCL,IAAA,MAAAK,QAAA,CAAG,oFAAkF,CAAG,CAAC,EACtF,CAAC,CAEV,CAEA,MAAO,CAAAA,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}